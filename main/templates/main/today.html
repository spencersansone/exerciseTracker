{% extends 'main/base.html' %}

{% block title %}Today{% endblock %}

{% block body %}
<div class="col-sm-12" style="border:white solid 2px;text-align:center;">
  <h1>{{today_weekday}}</h1>
  <br>
</div>

{% for a in var %}
<div class="col-sm-6" style="border:white solid 2px;text-align:center;">
  <h2>{{a.0}}</h2>
  {% for b in a.1 %}
    <a href="{% url 'main:exercise_detail' pk=b.0.id %}"><h5>{{b.0.name}}</h5></a>
    {% if not b.1 %}
        {% if b.0.weight_involved %}
        <form role="form" action="{% url 'main:today' %}" method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="form-group">
            <label for="weight">Weight</label>
            <input type="number" class="form-control" name="weight" placeholder="Enter weight">
            <input type="hidden" class="form-control" name="exercise_id" value={{b.0.id}}>
          </div>
          <button type="submit" class="btn btn-primary">Mark As Done</button>
        </form>
        {% elif b.0.is_cardio %}
          {% if b.0.cardio_type.name == "Miles and Time" %}
          <form role="form" action="{% url 'main:today' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
              <label for="weight">Weight</label>
              <input type="number" class="form-control" name="miles" placeholder="Enter miles">
              <input type="text" class="form-control" name="time" placeholder="Enter time">
              <input type="hidden" class="form-control" name="exercise_id" value={{b.0.id}}>
            </div>
            <button type="submit" class="btn btn-primary">Mark As Done</button>
          </form>
          {% elif b.0.cardio_type.name == "Reps and Sets" %}
          <form role="form" action="{% url 'main:today' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
              <label for="weight">Reps:</label>
              <input type="number" class="form-control" name="reps" placeholder="Enter reps">
              <label for="weight">Sets:</label>
              <input type="number" class="form-control" name="sets" placeholder="Enter sets">
              <input type="hidden" class="form-control" name="exercise_id" value={{b.0.id}}>
            </div>
            <button type="submit" class="btn btn-primary">Mark As Done</button>
          </form>
          {% elif b.0.cardio_type.name == "Swimming" %}
          <form role="form" action="{% url 'main:today' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
              <label for="weight">Laps:</label>
              <input type="number" class="form-control" name="laps" placeholder="Enter laps">
              <label for="weight">Time:</label>
              <input type="number" class="form-control" name="time" placeholder="Enter time">
              <input type="hidden" class="form-control" name="exercise_id" value={{b.0.id}}>
            </div>
            <button type="submit" class="btn btn-primary">Mark As Done</button>
          </form>
          {% endif %}
          
        {% else %}
        <form role="form" action="{% url 'main:today' %}" method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="form-group">
            <input type="hidden" class="form-control" name="weight" value=-1>
            <input type="hidden" class="form-control" name="exercise_id" value={{b.0.id}}>
          </div>
          <button type="submit" class="btn btn-primary">Mark As Done</button>
        </form>
        {% endif %}
    {% else %}
    <button type="button" class="btn btn-success">Done</button>
    {% endif %}
  {% endfor %}
  <br>
</div>
{% endfor %}
    

{% endblock %}